
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>语法函数1-基础介绍 &#8212; My R Learning Book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b76e3c8a" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'content/R语言学习1-语法函数1-基础介绍';</script>
    <link rel="canonical" href="https://crazzy-rabbit.github.io/Rscript-to-anaylise-and-visualize/content/R语言学习1-语法函数1-基础介绍.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="语法函数2-数据处理dplyr包" href="R%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A02-%E8%AF%AD%E6%B3%95%E5%87%BD%E6%95%B02-%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86dplyr%E5%8C%85.html" />
    <link rel="prev" title="Welcome to My R Learning Book" href="../intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
  
    <p class="title logo__title">My R Learning Book</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome to My R Learning Book
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">语法函数1-基础介绍</a></li>
<li class="toctree-l1"><a class="reference internal" href="R%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A02-%E8%AF%AD%E6%B3%95%E5%87%BD%E6%95%B02-%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86dplyr%E5%8C%85.html">语法函数2-数据处理dplyr包</a></li>
<li class="toctree-l1"><a class="reference internal" href="R%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A03-%E8%AF%AD%E6%B3%95%E5%87%BD%E6%95%B03-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-stringr%E5%8C%85.html">语法函数3-正则表达式-stringr包</a></li>
<li class="toctree-l1"><a class="reference internal" href="R%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A04-%E8%AF%AD%E6%B3%95%E5%87%BD%E6%95%B04-%E5%9B%A0%E5%AD%90%E5%9E%8B%E5%8F%98%E9%87%8F_%E6%95%B0%E6%8D%AE%E6%A1%86_%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8Bpurrr%E5%8C%85.html">因子型变量_数据框_函数式编程purrr包</a></li>



<li class="toctree-l1"><a class="reference internal" href="R%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A05-%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96-ggplot%E5%85%A5%E9%97%A8.html">数据可视化-ggplot入门</a></li>
<li class="toctree-l1"><a class="reference internal" href="R%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A06-%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96-ggplot%E8%BF%9B%E9%98%B6%281%29%E4%B9%8B%E5%90%84%E7%A7%8D%E5%9B%BE%E7%9A%84%E5%AE%9E%E7%8E%B0.html"><code class="docutils literal notranslate"><span class="pre">ggplot2</span></code>之几何形状</a></li>
<li class="toctree-l1"><a class="reference internal" href="R%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A07-%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96-ggplot%E8%BF%9B%E9%98%B6%282%29%E4%B9%8B%E6%A0%87%E5%BA%A6scale%E7%9B%B8%E5%85%B3%E8%AF%AD%E6%B3%95.html"><code class="docutils literal notranslate"><span class="pre">ggplot2</span></code>之标度<code class="docutils literal notranslate"><span class="pre">scale</span></code>相关语法</a></li>
<li class="toctree-l1"><a class="reference internal" href="R%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A08-%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96-ggplot%E8%BF%9B%E9%98%B6%283%29%E4%B9%8B%E4%B8%BB%E9%A2%98%E8%AE%BE%E7%BD%AEtheme%E8%AF%AD%E6%B3%95.html"><code class="docutils literal notranslate"><span class="pre">ggplot2</span></code>之主题设置</a></li>
<li class="toctree-l1"><a class="reference internal" href="R%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A09-%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96-ggplot%E8%BF%9B%E9%98%B6%284%29%E4%B9%8B%E5%9B%BE%E4%BE%8B%E7%B3%BB%E7%BB%9F.html">ggplot进阶之图例系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="R%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A010-%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96-ggplot%E8%BF%9B%E9%98%B6%285%29%E4%B9%8B%E6%89%A9%E5%B1%95%E5%86%85%E5%AE%B9.html"><code class="docutils literal notranslate"><span class="pre">ggplot2</span></code>之扩展内容</a></li>
<li class="toctree-l1"><a class="reference internal" href="R%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A011-%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96-ggplot%E8%BF%9B%E9%98%B6%286%29%E4%B9%8B%E7%BB%9F%E8%AE%A1%E5%9B%BE%E5%B1%82.html">ggplot2之统计图层</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/crazzy-rabbit/Rscript-to-anaylise-and-visualize" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/crazzy-rabbit/Rscript-to-anaylise-and-visualize/edit/main/content/R语言学习1-语法函数1-基础介绍.ipynb" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/crazzy-rabbit/Rscript-to-anaylise-and-visualize/issues/new?title=Issue%20on%20page%20%2Fcontent/R语言学习1-语法函数1-基础介绍.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/content/R语言学习1-语法函数1-基础介绍.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>语法函数1-基础介绍</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">对象</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">对象属性</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">向量</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">数值型向量</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">字符串向量</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">逻辑型向量</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">因子型向量</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">强制转换</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">数据结构</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">矩阵</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">列表</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">数据框</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">属性</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">运算符及向量运算</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">算数运算符</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">关系运算符</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">逻辑运算符</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">其他运算符</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id20">特殊值</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id21">函数</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id22">基础函数</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id23">向量的函数</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id24">自定义函数</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id25">使用宏包的函数</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id26">安装宏包与使用宏包</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id27">指定函数的所属宏包</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id28">获取帮助</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id29">函数应用</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id30">灵活的语法</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id31">多个参数</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id32">条件语句</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id33">返回多个结果</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id34">函数默认值</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id35">子集选取</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id36">向量</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id37">列表</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id38">矩阵</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id39">数据框</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id40">增强型数据框</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id41">可重复性文档</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rmarkdown">什么是<code class="docutils literal notranslate"><span class="pre">Rmarkdown</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#markdown"><code class="docutils literal notranslate"><span class="pre">markdown</span></code> 基本语法</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#r-code-chunks">R Code chunks</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#html">生成<code class="docutils literal notranslate"><span class="pre">html</span></code>文档</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#word">生成<code class="docutils literal notranslate"><span class="pre">word</span></code>文档</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pdf">生成<code class="docutils literal notranslate"><span class="pre">pdf</span></code>文档</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id42">读取数据</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id43">数据科学中的文件管理</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#here"><code class="docutils literal notranslate"><span class="pre">here</span></code>宏包</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="id1">
<h1>语法函数1-基础介绍<a class="headerlink" href="#id1" title="Link to this heading">#</a></h1>
<section id="id2">
<h2>对象<a class="headerlink" href="#id2" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>一切都是对象</p>
<ul>
<li><p>R中存储的数据成为对象object，R语言数据处理实际上就是不断的创建和操控这些对象。</p></li>
</ul>
</li>
<li><p>对象的创建和使用</p>
<ul>
<li><p>创建一个R对象，首先确定一个名称，然后使用赋值操作符 &lt;-，将数据赋值给它</p></li>
</ul>
</li>
</ul>
<section id="id3">
<h3>对象属性<a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<p>所有R对象都有其属性，其中最重要的两个属性是类型和长度</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="w">  </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">123</span>
<span class="nf">typeof</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="c1"># 类型</span>
<span class="nf">length</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="c1"># 长度</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">'double'</div><div class="output text_html">1</div></div>
</div>
</section>
</section>
<section id="id4">
<h2>向量<a class="headerlink" href="#id4" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>向量就像冰糖葫芦</p>
<ul>
<li><p>可以用 c() 函数实现类似结构</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">6</span><span class="p">,</span><span class="m">7</span><span class="p">)</span>
<span class="nf">typeof</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="nf">length</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="c1"># 这里的c就是 combine 或 concatenate 的意思</span>
<span class="c1"># 它要求元素之间用英文的逗号分隔</span>
<span class="c1"># 且元素的数据类型是统一的，比如这里都是数值</span>
<span class="c1"># c() 函数把一组数据聚合到了一起，就构成了一个向量。</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">'double'</div><div class="output text_html">5</div></div>
</div>
<ul class="simple">
<li><p>聚合成新向量</p>
<ul>
<li><p>c() 函数还可以把两个向量聚合成一个新的向量。</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">low</span><span class="w">  </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">)</span>
<span class="n">high</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">6</span><span class="p">)</span>
<span class="n">sequence</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="n">high</span><span class="p">)</span>
<span class="n">sequence</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li></ol>
</div></div>
</div>
<ul class="simple">
<li><p>命名向量</p>
<ul>
<li><p>相比与向量c(5, 6, 7, 8)， 每个元素可以有自己的名字</p></li>
<li><p>个人评价：类似于<code class="docutils literal notranslate"><span class="pre">python</span></code>中的字典——键值对</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="o">=</span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;b&#39;</span><span class="o">=</span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;c&#39;</span><span class="o">=</span><span class="m">7</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;d&#39;</span><span class="o">=</span><span class="m">8</span><span class="p">)</span>
<span class="n">x</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.dl-inline {width: auto; margin:0; padding: 0}
.dl-inline>dt, .dl-inline>dd {float: none; width: auto; display: inline-block}
.dl-inline>dt::after {content: ":\0020"; padding-right: .5ex}
.dl-inline>dt:not(:first-of-type) {padding-left: .5ex}
</style><dl class=dl-inline><dt>a</dt><dd>5</dd><dt>b</dt><dd>6</dd><dt>c</dt><dd>7</dd><dt>d</dt><dd>8</dd></dl>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># 或者</span>
<span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="m">6</span><span class="p">,</span><span class="m">7</span><span class="p">,</span><span class="m">8</span><span class="p">)</span>
<span class="nf">names</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">,</span><span class="s">&#39;c&#39;</span><span class="p">,</span><span class="s">&#39;d&#39;</span><span class="p">)</span>
<span class="n">x</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.dl-inline {width: auto; margin:0; padding: 0}
.dl-inline>dt, .dl-inline>dd {float: none; width: auto; display: inline-block}
.dl-inline>dt::after {content: ":\0020"; padding-right: .5ex}
.dl-inline>dt:not(:first-of-type) {padding-left: .5ex}
</style><dl class=dl-inline><dt>a</dt><dd>5</dd><dt>b</dt><dd>6</dd><dt>c</dt><dd>7</dd><dt>d</dt><dd>8</dd></dl>
</div></div>
</div>
<section id="id5">
<h3>数值型向量<a class="headerlink" href="#id5" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>向量的元素都是数值类型，因此也叫数值型向量。</p>
<ul>
<li><p>数值型的向量，有 integer 和 double 两种</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="w">  </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">)</span>
<span class="nf">typeof</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1.5</span><span class="p">,</span><span class="m">-0.5</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">)</span>
<span class="nf">class</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">3e+06</span><span class="p">,</span><span class="w"> </span><span class="m">1.23e2</span><span class="p">)</span>
<span class="nf">class</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">'double'</div><div class="output text_html">'numeric'</div><div class="output text_html">'numeric'</div></div>
</div>
<ul class="simple">
<li><p>seq() 函数可以生成等差数列，</p></li>
<li><p>from 参数指定数列的起始值，to 参数指定数列的终止值，by 参数指定数值的间距</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">s1</span><span class="w">  </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">seq</span><span class="p">(</span><span class="n">from</span><span class="o">=</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="o">=</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="n">by</span><span class="o">=</span><span class="m">0.5</span><span class="p">)</span>
<span class="n">s1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>0</li><li>0.5</li><li>1</li><li>1.5</li><li>2</li><li>2.5</li><li>3</li><li>3.5</li><li>4</li><li>4.5</li><li>5</li><li>5.5</li><li>6</li><li>6.5</li><li>7</li><li>7.5</li><li>8</li><li>8.5</li><li>9</li><li>9.5</li><li>10</li></ol>
</div></div>
</div>
<ul class="simple">
<li><p>rep() 是 repeat（重复）的意思，可以用于产生重复出现的数字序列：</p></li>
<li><p>x 用于重复的向量，times 参数可以指定要生成的个数，each 参数可以指定每个元素重复的次数</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">s2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">rep</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">1</span><span class="p">),</span><span class="w"> </span><span class="n">times</span><span class="o">=</span><span class="m">3</span><span class="p">)</span>
<span class="n">s2</span>

<span class="n">s3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">rep</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">1</span><span class="p">),</span><span class="w"> </span><span class="n">each</span><span class="o">=</span><span class="m">3</span><span class="p">)</span>
<span class="n">s3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>0</li><li>1</li><li>0</li><li>1</li><li>0</li><li>1</li></ol>
</div><div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>0</li><li>0</li><li>0</li><li>1</li><li>1</li><li>1</li></ol>
</div></div>
</div>
<ul class="simple">
<li><p>m:n，如果单纯是要生成数值间距为1的数列，用 m:n 更快捷，</p></li>
<li><p>它产生从 m 到 n 的间距为1的数列</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">s4</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">0</span><span class="o">:</span><span class="m">10</span>
<span class="n">s4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>0</li><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li></ol>
</div></div>
</div>
</section>
<section id="id6">
<h3>字符串向量<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>字符串（String）数据类型，实际上就是文本类型，必须用单引号或者是双引号包含</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;b&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;c&quot;</span><span class="p">)</span><span class="w">    </span>
<span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&#39;Alice&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;Bob&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;Charlie&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;Dave&#39;</span><span class="p">)</span><span class="w">    </span>
<span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;baby&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;I love you!&quot;</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1">## x1是字符串型向量，x2是数值型向量</span>
<span class="n">x1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;3&quot;</span><span class="p">)</span>
<span class="n">x2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">)</span>
<span class="nf">class</span><span class="p">(</span><span class="n">x1</span><span class="p">)</span>
<span class="nf">class</span><span class="p">(</span><span class="n">x2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">'character'</div><div class="output text_html">'numeric'</div></div>
</div>
</section>
<section id="id7">
<h3>逻辑型向量<a class="headerlink" href="#id7" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>逻辑型常称为布尔型（Boolean）， 它的常量值只有<code class="docutils literal notranslate"><span class="pre">TRUE</span></code>和<code class="docutils literal notranslate"><span class="pre">FALSE</span></code>。</p></li>
<li><p>TRUE和FALSE必须都大写</p></li>
</ul>
</section>
<section id="id8">
<h3>因子型向量<a class="headerlink" href="#id8" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>因子型可以看作是字符串向量的增强版，它是带有层级（Levels）的字符串向量。</p></li>
<li><p>使用<code class="docutils literal notranslate"><span class="pre">factor()</span></code>函数可以将字符串向量转换成因子型向量，即可用<code class="docutils literal notranslate"><span class="pre">levels</span></code>参数指定顺序</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">four_seasons</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;spring&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;summer&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;autumn&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;winter&quot;</span><span class="p">)</span>
<span class="n">four_seasons</span>
<span class="nf">typeof</span><span class="p">(</span><span class="n">four_seasons</span><span class="p">)</span>

<span class="n">four_seasons_factor</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">factor</span><span class="p">(</span><span class="n">four_seasons</span><span class="p">,</span><span class="w"> </span>
<span class="w">                             </span><span class="n">levels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;summer&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;winter&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;spring&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;autumn&quot;</span><span class="p">))</span>
<span class="n">four_seasons_factor</span>
<span class="nf">typeof</span><span class="p">(</span><span class="n">four_seasons_factor</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>'spring'</li><li>'summer'</li><li>'autumn'</li><li>'winter'</li></ol>
</div><div class="output text_html">'character'</div><div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>spring</li><li>summer</li><li>autumn</li><li>winter</li></ol>

<details>
	<summary style=display:list-item;cursor:pointer>
		<strong>Levels</strong>:
	</summary>
	<style>
	.list-inline {list-style: none; margin:0; padding: 0}
	.list-inline>li {display: inline-block}
	.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
	</style>
	<ol class=list-inline><li>'summer'</li><li>'winter'</li><li>'spring'</li><li>'autumn'</li></ol>
</details></div><div class="output text_html">'integer'</div></div>
</div>
</section>
<section id="id9">
<h3>强制转换<a class="headerlink" href="#id9" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>矢量中的元素必须是相同的类型，但如果不一样呢，会发生什么？</p></li>
<li><p>这个时候R会强制转换成相同的类型。这就涉及数据类型的转换层级</p>
<ul>
<li><p>character &gt; numeric &gt; logical</p></li>
<li><p>double &gt; integer</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w"> </span><span class="c1"># 强制转换成字符串类型</span>
<span class="nf">c</span><span class="p">(</span><span class="m">7</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w"> </span><span class="c1"># 强制转换成数值型</span>
<span class="nf">c</span><span class="p">(</span><span class="m">1L</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kc">pi</span><span class="p">)</span><span class="w"> </span><span class="c1"># 强制转换成双精度的数值型</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>'1'</li><li>'foo'</li><li>'TRUE'</li></ol>
</div><div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>7</li><li>1</li><li>0</li></ol>
</div><div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>1</li><li>2</li><li>3.14159265358979</li></ol>
</div></div>
</div>
</section>
</section>
<section id="id10">
<h2>数据结构<a class="headerlink" href="#id10" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>向量</p></li>
<li><p>矩阵 matrix</p></li>
<li><p>列表 list</p></li>
<li><p>数据框 dataframe</p></li>
</ul>
<section id="id11">
<h3>矩阵<a class="headerlink" href="#id11" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>矩阵可以存储行(row)和列(column)二维的数据。</p></li>
<li><p>实际上是向量的另一种表现形式，也就说它的本质还是向量，一维的向量用二维的方式呈现</p></li>
<li><p>矩阵可以用<code class="docutils literal notranslate"><span class="pre">matrix()</span></code>函数创建，第一个位置的参数是用于创建矩阵的向量</p></li>
<li><p>默认情况是竖着排，第一列排完再第二列这样，可用<code class="docutils literal notranslate"><span class="pre">byrow=TRUE</span></code>指定横着排，第一行排完排第二行</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">m</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">matrix</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">1</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">7</span><span class="p">),</span>
<span class="w">           </span><span class="n">nrow</span><span class="o">=</span><span class="m">2</span><span class="p">,</span>
<span class="w">           </span><span class="n">ncol</span><span class="o">=</span><span class="m">3</span><span class="p">)</span>
<span class="n">m</span>

<span class="n">m1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">matrix</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">1</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">7</span><span class="p">),</span>
<span class="w">            </span><span class="n">nrow</span><span class="o">=</span><span class="m">2</span><span class="p">,</span>
<span class="w">            </span><span class="n">ncol</span><span class="o">=</span><span class="m">3</span><span class="p">,</span>
<span class="w">            </span><span class="n">byrow</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
<span class="n">m1</span>
<span class="nf">class</span><span class="p">(</span><span class="n">m1</span><span class="p">)</span><span class="w"> </span><span class="c1"># 类型</span>
<span class="nf">length</span><span class="p">(</span><span class="n">m1</span><span class="p">)</span><span class="w"> </span><span class="c1"># 长度</span>
<span class="nf">dim</span><span class="p">(</span><span class="n">m1</span><span class="p">)</span><span class="w"> </span><span class="c1"># 维度</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A matrix: 2 × 3 of type dbl</caption>
<tbody>
	<tr><td>2</td><td>3</td><td>5</td></tr>
	<tr><td>4</td><td>1</td><td>7</td></tr>
</tbody>
</table>
</div><div class="output text_html"><table class="dataframe">
<caption>A matrix: 2 × 3 of type dbl</caption>
<tbody>
	<tr><td>2</td><td>4</td><td>3</td></tr>
	<tr><td>1</td><td>5</td><td>7</td></tr>
</tbody>
</table>
</div><div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>'matrix'</li><li>'array'</li></ol>
</div><div class="output text_html">6</div><div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>2</li><li>3</li></ol>
</div></div>
</div>
</section>
<section id="id12">
<h3>列表<a class="headerlink" href="#id12" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>如果我们想要装更多的东西，可以想象有一个小火车，小火车的每节车厢是独立的，因此每节车厢装的东西可以不一样。这种结构装载数据的能力很强大，称之为列表。</p>
<ul>
<li><p><img alt="image.png" src="https://bookdown.org/wangminjie/R4DS/images/list_trian.png" /></p></li>
</ul>
</li>
<li><p>我们可以使用<code class="docutils literal notranslate"><span class="pre">list()</span></code>函数创建列表，和python的list不太一样</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c()</span></code>函数创建向量 对比<code class="docutils literal notranslate"><span class="pre">list()</span></code>函数创建列表</p>
<ul>
<li><p><img alt="image-2.png" src="https://bookdown.org/wangminjie/R4DS/images/c_vs_list.png" /></p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">list1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="m">10</span><span class="p">),</span>
<span class="w">             </span><span class="n">b</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;I&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;love&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;R&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;language&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;!&quot;</span><span class="p">),</span>
<span class="w">             </span><span class="n">c</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">))</span>
<span class="n">list1</span>
<span class="n">list1</span><span class="o">$</span><span class="n">a</span>
<span class="n">list1</span><span class="o">$</span>`<span class="n">b</span><span class="p">[</span><span class="m">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="n">Error</span> <span class="ow">in</span> <span class="n">parse</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">srcfile</span> <span class="o">=</span> <span class="n">src</span><span class="p">):</span> <span class="o">&lt;</span><span class="n">text</span><span class="o">&gt;</span><span class="p">:</span><span class="mi">6</span><span class="p">:</span><span class="mi">7</span><span class="p">:</span> <span class="n">意外的INCOMPLETE_STRING</span>
<span class="mi">5</span><span class="p">:</span> <span class="n">list1</span><span class="err">$</span><span class="n">a</span>
<span class="mi">6</span><span class="p">:</span> <span class="n">list1</span><span class="err">$`</span><span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
         <span class="o">^</span>
<span class="ne">Traceback</span>:
</pre></div>
</div>
</div>
</div>
</section>
<section id="id13">
<h3>数据框<a class="headerlink" href="#id13" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>列表可以想象成一个小火车，如果每节车厢装的都是向量而且等长，那么这种特殊形式的列表就变成了数据框</p></li>
<li><p>数据框是一种特殊的列表，我们可以使用<code class="docutils literal notranslate"><span class="pre">data.frame()</span></code>函数构建数据框</p></li>
</ul>
<section id="id14">
<h4>属性<a class="headerlink" href="#id14" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">data.frame</span><span class="p">(</span>
<span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;Alice&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Bob&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Carl&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Dave&quot;</span><span class="p">),</span>
<span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">34</span><span class="p">,</span><span class="w"> </span><span class="m">23</span><span class="p">,</span><span class="w"> </span><span class="m">25</span><span class="p">),</span>
<span class="n">marriage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">),</span>
<span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;red&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;blue&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;orange&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;purple&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">df</span>
<span class="nf">class</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w"> </span><span class="c1"># 类型</span>
<span class="nf">nrow</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w">  </span><span class="c1"># 维度</span>
<span class="nf">ncol</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w">  </span><span class="c1"># 维度</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A data.frame: 4 × 4</caption>
<thead>
	<tr><th scope=col>name</th><th scope=col>age</th><th scope=col>marriage</th><th scope=col>color</th></tr>
	<tr><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;lgl&gt;</th><th scope=col>&lt;chr&gt;</th></tr>
</thead>
<tbody>
	<tr><td>Alice</td><td> 3</td><td> TRUE</td><td>red   </td></tr>
	<tr><td>Bob  </td><td>34</td><td>FALSE</td><td>blue  </td></tr>
	<tr><td>Carl </td><td>23</td><td> TRUE</td><td>orange</td></tr>
	<tr><td>Dave </td><td>25</td><td>FALSE</td><td>purple</td></tr>
</tbody>
</table>
</div><div class="output text_html">'data.frame'</div><div class="output text_html">4</div><div class="output text_html">4</div></div>
</div>
<p><img alt="image.png" src="https://bookdown.org/wangminjie/R4DS/images/data_structure1.png" /></p>
</section>
</section>
</section>
<section id="id15">
<h2>运算符及向量运算<a class="headerlink" href="#id15" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>算数运算符  + - x ➗</p></li>
<li><p>关系运算符  = &gt; &lt; !=</p></li>
<li><p>逻辑运算符 &amp; |</p></li>
<li><p>其他运算符</p></li>
</ul>
<section id="id16">
<h3>算数运算符<a class="headerlink" href="#id16" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">+</span> <span class="pre">-</span> <span class="pre">*</span> <span class="pre">/</span> </code></p></li>
<li><p>循环补齐</p>
<ul>
<li><p>做算术运算时，当两个向量长度相等的时候，就一一对应的完成计算；</p></li>
<li><p>当两个向量长度不相等的时候，短的向量会<code class="docutils literal notranslate"><span class="pre">循环补齐</span></code>，保持与长向量的长度一致后，再做运算</p></li>
<li><p>需要长向量是短向量的整数倍才能运算</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">)</span>
<span class="n">y</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="m">20</span><span class="p">,</span><span class="m">30</span><span class="p">,</span><span class="m">40</span><span class="p">)</span>
<span class="n">x</span><span class="o">+</span><span class="n">y</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>11</li><li>22</li><li>31</li><li>42</li></ol>
</div></div>
</div>
</section>
<section id="id17">
<h3>关系运算符<a class="headerlink" href="#id17" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>将第一向量的每个元素与第二向量的相应元素进行比较，比较的结果是布尔值，布尔值是“真” TRUE 或“假” FALSE 中的一个。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;</span>&#160; <span class="pre">&gt;</span>&#160; <span class="pre">=</span> <span class="pre">!=</span></code></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># 检查第一个向量的每个元素是否等于第二个向量的相应元素。</span>
<span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">)</span>
<span class="n">b</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="m">6</span><span class="p">)</span>
<span class="n">a</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">b</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>FALSE</li><li>FALSE</li><li>FALSE</li></ol>
</div></div>
</div>
</section>
<section id="id18">
<h3>逻辑运算符<a class="headerlink" href="#id18" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>一般适用于逻辑类型的向量</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&amp;</span> <span class="pre">|</span> <span class="pre">!</span></code> ! 为逻辑非运算符。 对于向量的每个元素，给出相反的逻辑值。</p></li>
<li><p>逻辑运算符<code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code>和<code class="docutils literal notranslate"><span class="pre">||</span></code>只考虑向量的第一个元素，给出单个元素的向量作为输出</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span>
<span class="o">!</span><span class="n">a</span>

<span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span>
<span class="n">b</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span>
<span class="n">a</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">b</span>

<span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span>
<span class="n">b</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span>
<span class="n">a</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">b</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>FALSE</li><li>TRUE</li><li>TRUE</li></ol>
</div><div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Warning message in a &amp;&amp; b:
“&#39;length(x) = 3 &gt; 1&#39; in coercion to &#39;logical(1)&#39;”
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Warning message in a &amp;&amp; b:
“&#39;length(x) = 3 &gt; 1&#39; in coercion to &#39;logical(1)&#39;”
</pre></div>
</div>
<div class="output text_html">FALSE</div><div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Warning message in a || b:
“&#39;length(x) = 3 &gt; 1&#39; in coercion to &#39;logical(1)&#39;”
</pre></div>
</div>
<div class="output text_html">TRUE</div></div>
</div>
</section>
<section id="id19">
<h3>其他运算符<a class="headerlink" href="#id19" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">:</span></code>冒号运算符。按顺序创建一个<strong>整数</strong>序列</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%in%</span></code> 此运算符用于判断元素是否属于向量</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is.na()</span></code>判断是否为缺失值，<code class="docutils literal notranslate"><span class="pre">R</span></code> 里缺失值用<code class="docutils literal notranslate"><span class="pre">NA</span></code>表示，<code class="docutils literal notranslate"><span class="pre">NA</span></code>的意思就是 <code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">available</span></code> 或者 <code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">applicable</span></code>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># :</span>
<span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">10</span>
<span class="n">a</span>
<span class="nf">typeof</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

<span class="c1"># %in%</span>
<span class="nf">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">7</span><span class="p">)</span><span class="w"> </span><span class="o">%in%</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">5</span><span class="p">)</span>

<span class="c1"># is.na()</span>
<span class="nf">is.na</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="kc">NA</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="kc">NA</span><span class="p">,</span><span class="m">5</span><span class="p">))</span>
<span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="kc">NA</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="kc">NA</span><span class="p">,</span><span class="m">6</span><span class="p">)</span>
<span class="o">!</span><span class="nf">is.na</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li></ol>
</div><div class="output text_html">'integer'</div><div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>TRUE</li><li>TRUE</li><li>FALSE</li></ol>
</div><div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>FALSE</li><li>FALSE</li><li>FALSE</li><li>TRUE</li><li>FALSE</li><li>TRUE</li><li>FALSE</li></ol>
</div><div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>TRUE</li><li>TRUE</li><li>FALSE</li><li>TRUE</li><li>FALSE</li><li>TRUE</li></ol>
</div></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">seq()</span></code>函数也能产生序列</p></li>
<li><p>注意到a是整数类型，而b是双精度的数值型</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">b</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">seq</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">10</span><span class="p">,</span><span class="m">1</span><span class="p">)</span>
<span class="n">b</span>
<span class="nf">typeof</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li></ol>
</div><div class="output text_html">'double'</div></div>
</div>
</section>
<section id="id20">
<h3>特殊值<a class="headerlink" href="#id20" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>R 语言里还有一些特殊的值: <code class="docutils literal notranslate"><span class="pre">Inf,</span> <span class="pre">NaN,</span> <span class="pre">NA</span> <span class="pre">和</span> <span class="pre">NULL</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Inf</span></code>, 是Infinity的简写，表示无限大；<code class="docutils literal notranslate"><span class="pre">-Inf</span></code>表示无限小</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NaN</span></code>, 是Not a Number的简写，表示这个数字没有数学定义</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NA</span></code>, 是Not available的简写，表示缺失状态</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NULL</span></code>, 是No value的意思，表示没有值，或者空值的意思，表示变量实际上没有任何值，或者甚至不存在。</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Inf</span>
<span class="m">1</span><span class="o">/</span><span class="m">0</span>
<span class="m">-1</span><span class="o">/</span><span class="m">0</span>

<span class="c1"># NaN</span>
<span class="m">0</span><span class="o">/</span><span class="m">0</span>

<span class="c1"># NULL</span>
<span class="nf">c</span><span class="p">(</span><span class="w"> </span><span class="p">)</span>

<span class="c1"># NA</span>
<span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="kc">NA</span><span class="p">,</span><span class="m">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">Inf</div><div class="output text_html">-Inf</div><div class="output text_html">NaN</div><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NULL
</pre></div>
</div>
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>1</li><li>&lt;NA&gt;</li><li>3</li></ol>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">10</span>
<span class="n">b</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">seq</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">10</span><span class="p">,</span><span class="m">1</span><span class="p">)</span>

<span class="nf">identical</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">FALSE</div></div>
</div>
</section>
</section>
<section id="id21">
<h2>函数<a class="headerlink" href="#id21" title="Link to this heading">#</a></h2>
<section id="id22">
<h3>基础函数<a class="headerlink" href="#id22" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">print()</span></code>     打印</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sqrt()</span></code>    求开方</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sd()</span></code>  标准差函数</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">log()</span></code>      求自然对数</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sum()</span></code>      求和</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mean()</span></code>     求平均值</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">min()</span></code>      最小值</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">max()</span></code>      最大值</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">length()</span></code>    计算向量个数</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sort()</span></code>     排序</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nique()</span></code>    去重</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">quantile()</span></code>   求分位数</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is.numeric()</span></code> 判断是否为数值型</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is.character()</span></code> 判断是否为字符串型</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">as.character()</span></code> 转为字符串型</p></li>
</ul>
</section>
<section id="id23">
<h3>向量的函数<a class="headerlink" href="#id23" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>用在向量上的函数，可以分为向量化函数(vectorized function)和汇总类函数(summary function)</p></li>
<li><p><img alt="image.png" src="https://bookdown.org/wangminjie/R4DS/images/vector-function.png" /></p></li>
<li><p>这两类函数在<code class="docutils literal notranslate"><span class="pre">Tidyverse</span></code>框架中，应用非常广泛。</p></li>
<li><p>当然，也会有例外，比如<code class="docutils literal notranslate"><span class="pre">unique()</span></code>函数，它返回的向量通常不会与输入的向量等长，既不属于向量化函数，也不属于汇总类函数。</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">7</span><span class="p">,</span><span class="m">8</span><span class="p">,</span><span class="m">9</span><span class="p">,</span><span class="m">3</span><span class="p">)</span>
<span class="n">x</span><span class="o">^</span><span class="m">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">5</span>

<span class="nf">sort</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nf">mean</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="c1"># 向量标准化（向量减去其均值之后，除以标准差）</span>
<span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="nf">mean</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">/</span><span class="nf">sd</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>9</li><li>54</li><li>69</li><li>86</li><li>14</li></ol>
</div><div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>2</li><li>3</li><li>7</li><li>8</li><li>9</li></ol>
</div><div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>-3.8</li><li>1.2</li><li>2.2</li><li>3.2</li><li>-2.8</li></ol>
</div><div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>-1.22010646822908</li><li>0.385296779440761</li><li>0.706377428974729</li><li>1.0274580785087</li><li>-0.89902581869511</li></ol>
</div></div>
</div>
</section>
<section id="id24">
<h3>自定义函数<a class="headerlink" href="#id24" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>创建</strong>，由<code class="docutils literal notranslate"><span class="pre">function(...)</span></code>创建一个函数</p></li>
<li><p><strong>参数</strong>，由<code class="docutils literal notranslate"><span class="pre">(...)</span></code>里指定参数，比如<code class="docutils literal notranslate"><span class="pre">function(x)</span></code>中的参数为 <code class="docutils literal notranslate"><span class="pre">x</span></code></p></li>
<li><p><strong>函数主体</strong>，一般情况下，在<code class="docutils literal notranslate"><span class="pre">function(...)</span></code>后跟随一对大括号<code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">}</span></code>，在大括号里声明具体函数功能，在代码最后一行，可以用<code class="docutils literal notranslate"><span class="pre">return</span></code>返回计算后的值。当然，如果函数的目的只是返回最后一行代码计算的值，这个<code class="docutils literal notranslate"><span class="pre">return</span></code>可以省略。</p></li>
<li><p><strong>函数名</strong>，<code class="docutils literal notranslate"><span class="pre">function()</span> <span class="pre">{</span> <span class="pre">}</span></code>赋值给新对象，比如这里的<code class="docutils literal notranslate"><span class="pre">my_std</span></code>，相当于给函数取一名字，方便以后使用。</p></li>
<li><p><strong>函数调用</strong>，现在这个函数名字叫<code class="docutils literal notranslate"><span class="pre">my_std</span></code>，需要用这个函数的时候，就调用它的名字<code class="docutils literal notranslate"><span class="pre">my_std()</span></code>。</p></li>
</ul>
<p>和<code class="docutils literal notranslate"><span class="pre">python</span></code>的<code class="docutils literal notranslate"><span class="pre">def</span></code>创建的函数差不多，创建形式不同，但应用方式一样，元素差不多</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">y</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">7</span><span class="p">,</span><span class="m">8</span><span class="p">,</span><span class="m">9</span><span class="p">,</span><span class="m">3</span><span class="p">)</span>

<span class="n">my_std</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">){</span>
<span class="w">    </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nf">mean</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nf">sd</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="p">}</span>

<span class="nf">my_std</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>-1.22010646822908</li><li>0.385296779440761</li><li>0.706377428974729</li><li>1.0274580785087</li><li>-0.89902581869511</li></ol>
</div></div>
</div>
<ul class="simple">
<li><p><img alt="image.png" src="content/attachment:image.png" /></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">rescale</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">){</span>
<span class="w">    </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nf">min</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="nf">max</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nf">min</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="id25">
<h3>使用宏包的函数<a class="headerlink" href="#id25" title="Link to this heading">#</a></h3>
<section id="id26">
<h4>安装宏包与使用宏包<a class="headerlink" href="#id26" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>安装宏包 <code class="docutils literal notranslate"><span class="pre">install.packages(&quot;dplyr&quot;)</span></code>，也就是说宏包就是别人已经写好了的函数的集合</p></li>
<li><p>加载 <code class="docutils literal notranslate"><span class="pre">library(&quot;dplyr&quot;)</span></code>，和python中的<code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">pandas</span></code>一样的效果‘pandas’为包</p></li>
</ul>
</section>
<section id="id27">
<h4>指定函数的所属宏包<a class="headerlink" href="#id27" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>其它宏包可能也有<code class="docutils literal notranslate"><span class="pre">select()</span></code>函数，比如<code class="docutils literal notranslate"><span class="pre">MASS</span></code>和<code class="docutils literal notranslate"><span class="pre">skimr</span></code>，如果同时加载了<code class="docutils literal notranslate"><span class="pre">dplyr</span></code>，<code class="docutils literal notranslate"><span class="pre">MASS</span></code>和<code class="docutils literal notranslate"><span class="pre">skimr</span></code>三个宏包，在程序中使用<code class="docutils literal notranslate"><span class="pre">select()</span></code>函数，就会造成混淆和报错。</p></li>
<li><p>这个时候就需要给每个函数指定是来源哪个宏包，具体方法就是在宏包和函数之间添加::，</p></li>
<li><p>比如<code class="docutils literal notranslate"><span class="pre">dplyr::select()</span></code>，<code class="docutils literal notranslate"><span class="pre">skimr::select()</span></code> 或者<code class="docutils literal notranslate"><span class="pre">MASS::select()</span></code>。</p></li>
</ul>
</section>
</section>
<section id="id28">
<h3>获取帮助<a class="headerlink" href="#id28" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">?</span><span class="nf">sqrt</span><span class="p">()</span>
<span class="o">?</span><span class="nf">scale</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">get_var</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">){</span>
<span class="w">    </span><span class="n">n</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">length</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="w">    </span><span class="n">y</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">mean</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="w">    </span><span class="n">var2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">sum</span><span class="p">((</span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">1</span><span class="p">)</span>
<span class="w">    </span><span class="nf">return</span><span class="p">(</span><span class="n">var2</span><span class="p">)</span>
<span class="p">}</span>

<span class="nf">var</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">6</span><span class="p">,</span><span class="m">8</span><span class="p">,</span><span class="m">10</span><span class="p">))</span>
<span class="nf">get_var</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">6</span><span class="p">,</span><span class="m">8</span><span class="p">,</span><span class="m">10</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">10</div><div class="output text_html">10</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">get_bmi</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">height</span><span class="p">,</span><span class="w"> </span><span class="n">weight</span><span class="p">){</span>
<span class="w">    </span><span class="n">weight</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">height</span><span class="o">^</span><span class="m">2</span>
<span class="p">}</span>
<span class="nf">get_bmi</span><span class="p">(</span><span class="m">165</span><span class="p">,</span><span class="w"> </span><span class="m">65</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">0.00238751147842057</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">mean_above_threshod</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">vector</span><span class="p">,</span><span class="w"> </span><span class="n">threshod</span><span class="p">){</span>
<span class="w">    </span><span class="n">upthreshod</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">vector</span><span class="p">[</span><span class="n">vector</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">threshod</span><span class="p">]</span>
<span class="w">    </span><span class="nf">if</span><span class="p">(</span><span class="nf">length</span><span class="p">(</span><span class="n">upthreshod</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">0</span><span class="p">){</span>
<span class="w">        </span><span class="nf">return</span><span class="p">(</span><span class="s">&quot;NA&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span><span class="n">else</span><span class="p">{</span><span class="nf">return</span><span class="p">(</span><span class="nf">mean</span><span class="p">(</span><span class="n">upthreshod</span><span class="p">))</span>
<span class="w">         </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">vector</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">6</span><span class="p">)</span>
<span class="n">threshod</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">6</span>
<span class="nf">mean_above_threshod</span><span class="p">(</span><span class="n">vector</span><span class="p">,</span><span class="w"> </span><span class="n">threshod</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">'NA'</div></div>
</div>
</section>
</section>
<section id="id29">
<h2>函数应用<a class="headerlink" href="#id29" title="Link to this heading">#</a></h2>
<section id="id30">
<h3>灵活的语法<a class="headerlink" href="#id30" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>R语言中，完成一件事情往往有很多种方法</p></li>
</ul>
</section>
<section id="id31">
<h3>多个参数<a class="headerlink" href="#id31" title="Link to this heading">#</a></h3>
</section>
<section id="id32">
<h3>条件语句<a class="headerlink" href="#id32" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">if-else</span></code>语句</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">if(condition){</span> <span class="pre">Do</span> <span class="pre">something</span> <span class="pre">}</span> <span class="pre">else{</span> <span class="pre">Alternative</span> <span class="pre">something</span> <span class="pre">}</span></code></p></li>
</ul>
</li>
</ul>
</section>
<section id="id33">
<h3>返回多个结果<a class="headerlink" href="#id33" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>如果要返回多个统计结果，可以把结果先放在<code class="docutils literal notranslate"><span class="pre">list</span></code>或者<code class="docutils literal notranslate"><span class="pre">data.frame</span></code>中，然后再返回</p></li>
</ul>
</section>
<section id="id34">
<h3>函数默认值<a class="headerlink" href="#id34" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">function(multi</span> <span class="pre">=</span> <span class="pre">10)</span></code>这样的表达式</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1">### 灵活的语法</span>
<span class="n">mysquare</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">){</span>
<span class="w">    </span><span class="n">y</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">x</span><span class="o">^</span><span class="m">2</span>
<span class="w">    </span><span class="nf">return</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">mysquare2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">){</span>
<span class="w">    </span><span class="nf">return</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="m">2</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">mysquare3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">){</span><span class="w"> </span><span class="nf">return</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>

<span class="n">mysquare4</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="nf">return</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="m">2</span><span class="p">)</span>

<span class="n">mysquare5</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">){</span>
<span class="w">    </span><span class="n">x</span><span class="o">^</span><span class="m">2</span>
<span class="p">}</span>

<span class="n">mysquare6</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="n">x</span><span class="o">^</span><span class="m">2</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1">### 多个参数</span>
<span class="n">sum_two</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="p">){</span>
<span class="w">    </span><span class="n">sum</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">num1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">num2</span>
<span class="w">    </span><span class="nf">return</span><span class="p">(</span><span class="n">sum</span><span class="p">)</span>
<span class="p">}</span>
<span class="nf">sum_two</span><span class="p">(</span><span class="n">num1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">)</span>
<span class="nf">sum_two</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">3</div><div class="output text_html">3</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1">### 条件语句</span>
<span class="n">square_if</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">num</span><span class="p">){</span>
<span class="w">    </span><span class="nf">if </span><span class="p">(</span><span class="nf">is.numeric</span><span class="p">(</span><span class="n">num</span><span class="p">)){</span>
<span class="w">        </span><span class="n">num</span><span class="o">^</span><span class="m">2</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="p">{</span>
<span class="w">        </span><span class="s">&quot;Your input is not numeric.&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="nf">square_if</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">)</span>
<span class="nf">square_if</span><span class="p">(</span><span class="m">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">'Your input is not numeric.'</div><div class="output text_html">9</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">sum_two</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="p">){</span>
<span class="w">    </span><span class="nf">if</span><span class="p">(</span><span class="nf">is.numeric</span><span class="p">(</span><span class="n">num1</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nf">is.numeric</span><span class="p">(</span><span class="n">num2</span><span class="p">)){</span>
<span class="w">        </span><span class="n">sum</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">num1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">num2</span>
<span class="w">        </span><span class="nf">return</span><span class="p">(</span><span class="n">sum</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="p">{</span>
<span class="w">        </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Your input is not numeric.&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span>
<span class="p">}</span>
<span class="nf">sum_two</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">)</span>
<span class="nf">sum_two</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="s">&quot;x&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">3</div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1] &quot;Your input is not numeric.&quot;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1">### 多个条件</span>
<span class="n">check_number</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">){</span>
<span class="w">    </span><span class="nf">if </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">0</span><span class="p">){</span>
<span class="w">        </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Negative number&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="nf">if </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">0</span><span class="p">){</span>
<span class="w">        </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Positive number&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="p">{</span>
<span class="w">        </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Zero&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">0</span>
<span class="nf">check_number</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1] &quot;Zero&quot;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1">### 返回多个结果</span>
<span class="n">mystat</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">){</span>
<span class="w">    </span><span class="n">meanval</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">mean</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="w">    </span><span class="n">sdval</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">sd</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="w">    </span><span class="nf">list</span><span class="p">(</span><span class="n">sd</span><span class="o">=</span><span class="n">sdval</span><span class="p">,</span><span class="w"> </span><span class="n">mean</span><span class="o">=</span><span class="n">meanval</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">mystat2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">){</span>
<span class="w">    </span><span class="n">meanval</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">mean</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="w">    </span><span class="n">sdval</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">sd</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="w">    </span><span class="nf">data.frame</span><span class="p">(</span>
<span class="w">    </span><span class="n">sd</span><span class="o">=</span><span class="n">sdval</span><span class="p">,</span>
<span class="w">    </span><span class="n">mean</span><span class="o">=</span><span class="n">meanval</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="id35">
<h2>子集选取<a class="headerlink" href="#id35" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>对象就是我们在计算机里新建了存储空间，好比一个盒子， 我们可以往盒子里面装东西（赋值），可以查看里面的内容或者对里面的内容做计算（函数），也可以从盒子里取出<strong>部分东西</strong>（子集选取）</p></li>
<li><p><strong>子集选取</strong>，就是从盒子里取东西出来</p></li>
</ul>
<section id="id36">
<h3>向量<a class="headerlink" href="#id36" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>对于原子型向量，我们有至少四种选取子集的方法</p>
<ul>
<li><p>正整数： 指定向量元素中的位置 <code class="docutils literal notranslate"><span class="pre">x[1]</span></code></p></li>
<li><p>负整数：删除指定位置的元素 <code class="docutils literal notranslate"><span class="pre">x[-2]</span></code></p></li>
<li><p>逻辑向量：将<code class="docutils literal notranslate"><span class="pre">TRUE</span></code>对应位置的元素提取出来<code class="docutils literal notranslate"><span class="pre">x[x</span> <span class="pre">&gt;</span> <span class="pre">3]</span></code></p></li>
<li><p>我们可以用命名向量，返回其对应位置的向量</p></li>
</ul>
</li>
</ul>
</section>
<section id="id37">
<h3>列表<a class="headerlink" href="#id37" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>对列表取子集，和向量的方法一样。向量的子集仍然是向量，使用<code class="docutils literal notranslate"><span class="pre">[</span></code>提取列表的子集，总是返回列表</p></li>
<li><p>如果想提取列表某个元素的值，需要使用<code class="docutils literal notranslate"><span class="pre">[[</span></code></p></li>
<li><p>取出<code class="docutils literal notranslate"><span class="pre">one</span></code>位置上的元素，需要写<code class="docutils literal notranslate"><span class="pre">[[&quot;one&quot;]]</span></code>，太麻烦了，所以用<code class="docutils literal notranslate"><span class="pre">$</span></code>来简写</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x$y</span></code> 是 <code class="docutils literal notranslate"><span class="pre">x[[&quot;y&quot;]]</span></code>的简写</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">l</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span>
<span class="s">&quot;one&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;b&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;c&quot;</span><span class="p">),</span>
<span class="s">&quot;two&quot;</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">5</span><span class="p">),</span>
<span class="s">&quot;three&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">l</span><span class="w"> </span>
<span class="n">l</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">       </span><span class="c1"># 使用位置索引</span>
<span class="n">l</span><span class="p">[</span><span class="s">&quot;one&quot;</span><span class="p">]</span><span class="w">   </span><span class="c1"># 使用元素名</span>
<span class="n">l</span><span class="p">[[</span><span class="m">1</span><span class="p">]]</span><span class="w">     </span><span class="c1"># 提取列表某个元素的值</span>
<span class="n">l</span><span class="o">$</span><span class="n">one</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><dl>
	<dt>$one</dt>
		<dd><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>'a'</li><li>'b'</li><li>'c'</li></ol>
</dd>
	<dt>$two</dt>
		<dd><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li></ol>
</dd>
	<dt>$three</dt>
		<dd><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>TRUE</li><li>FALSE</li></ol>
</dd>
</dl>
</div><div class="output text_html"><strong>$one</strong> = <style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>'a'</li><li>'b'</li><li>'c'</li></ol>
</div><div class="output text_html"><strong>$one</strong> = <style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>'a'</li><li>'b'</li><li>'c'</li></ol>
</div><div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>'a'</li><li>'b'</li><li>'c'</li></ol>
</div><div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>'a'</li><li>'b'</li><li>'c'</li></ol>
</div></div>
</div>
</section>
<section id="id38">
<h3>矩阵<a class="headerlink" href="#id38" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x[a,b]</span></code>用于选取，<code class="docutils literal notranslate"><span class="pre">a</span></code>为行方向，<code class="docutils literal notranslate"><span class="pre">b</span></code>为列方向</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x[a,</span> <span class="pre">]</span></code>,表示列方向选取所有列，反之</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x[,</span> <span class="pre">]</span></code> <code class="docutils literal notranslate"><span class="pre">x[]</span></code>，表示取整个矩阵</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">9</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="o">=</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">byrow</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
<span class="n">a</span>

<span class="n">a</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="o">:</span><span class="m">3</span><span class="p">]</span><span class="w"> </span><span class="c1"># 我们取第1行到第2行的2-3列</span>
<span class="n">a</span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">2</span><span class="p">]</span><span class="w">   </span><span class="c1"># 默认情况下, [ 会将获取的数据，以尽可能低的维度形式呈现</span>
<span class="n">a</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="p">]</span><span class="w">   </span><span class="c1"># 列方向，选取所有列</span>
<span class="n">a</span><span class="p">[]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A matrix: 3 × 3 of type int</caption>
<tbody>
	<tr><td>1</td><td>2</td><td>3</td></tr>
	<tr><td>4</td><td>5</td><td>6</td></tr>
	<tr><td>7</td><td>8</td><td>9</td></tr>
</tbody>
</table>
</div><div class="output text_html"><table class="dataframe">
<caption>A matrix: 2 × 2 of type int</caption>
<tbody>
	<tr><td>2</td><td>3</td></tr>
	<tr><td>5</td><td>6</td></tr>
</tbody>
</table>
</div><div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>1</li><li>2</li></ol>
</div><div class="output text_html"><table class="dataframe">
<caption>A matrix: 2 × 3 of type int</caption>
<tbody>
	<tr><td>1</td><td>2</td><td>3</td></tr>
	<tr><td>4</td><td>5</td><td>6</td></tr>
</tbody>
</table>
</div><div class="output text_html"><table class="dataframe">
<caption>A matrix: 3 × 3 of type int</caption>
<tbody>
	<tr><td>1</td><td>2</td><td>3</td></tr>
	<tr><td>4</td><td>5</td><td>6</td></tr>
	<tr><td>7</td><td>8</td><td>9</td></tr>
</tbody>
</table>
</div></div>
</div>
</section>
<section id="id39">
<h3>数据框<a class="headerlink" href="#id39" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>数据框具有<code class="docutils literal notranslate"><span class="pre">list</span></code>和<code class="docutils literal notranslate"><span class="pre">matrix</span></code>的双重属性，因此</p>
<ul>
<li><p>当选取数据框的某几列的时候，可以和list一样，指定元素位置索引，比如<code class="docutils literal notranslate"><span class="pre">df[1:2]</span></code>选取前两列</p></li>
<li><p>也可以像矩阵一样，按照行和列的标识选取，比如<code class="docutils literal notranslate"><span class="pre">df[1:3,</span> <span class="pre">]</span></code>选取前三行的所有列</p></li>
<li><p>当遇到单行或单列的时候，也和矩阵一样，数据会降维</p></li>
<li><p>如果想避免降维，需要多写一句话<code class="docutils literal notranslate"><span class="pre">df[,</span> <span class="pre">&quot;x&quot;,</span> <span class="pre">drop</span> <span class="pre">=</span> <span class="pre">FALSE]</span></code></p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">data.frame</span><span class="p">(</span>
<span class="n">x</span><span class="o">=</span><span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">,</span>
<span class="n">y</span><span class="o">=</span><span class="m">4</span><span class="o">:</span><span class="m">1</span><span class="p">,</span>
<span class="n">z</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;b&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;c&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;d&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">df</span>
<span class="n">df</span><span class="p">[</span><span class="s">&quot;x&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A data.frame: 4 × 3</caption>
<thead>
	<tr><th scope=col>x</th><th scope=col>y</th><th scope=col>z</th></tr>
	<tr><th scope=col>&lt;int&gt;</th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;chr&gt;</th></tr>
</thead>
<tbody>
	<tr><td>1</td><td>4</td><td>a</td></tr>
	<tr><td>2</td><td>3</td><td>b</td></tr>
	<tr><td>3</td><td>2</td><td>c</td></tr>
	<tr><td>4</td><td>1</td><td>d</td></tr>
</tbody>
</table>
</div><div class="output text_html"><table class="dataframe">
<caption>A data.frame: 4 × 1</caption>
<thead>
	<tr><th scope=col>x</th></tr>
	<tr><th scope=col>&lt;int&gt;</th></tr>
</thead>
<tbody>
	<tr><td>1</td></tr>
	<tr><td>2</td></tr>
	<tr><td>3</td></tr>
	<tr><td>4</td></tr>
</tbody>
</table>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># like a list</span>
<span class="n">df</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">2</span><span class="p">]</span>
<span class="n">df</span><span class="p">[[</span><span class="s">&quot;x&quot;</span><span class="p">]]</span>
<span class="n">df</span><span class="o">$</span><span class="n">x</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A data.frame: 4 × 2</caption>
<thead>
	<tr><th scope=col>x</th><th scope=col>y</th></tr>
	<tr><th scope=col>&lt;int&gt;</th><th scope=col>&lt;int&gt;</th></tr>
</thead>
<tbody>
	<tr><td>1</td><td>4</td></tr>
	<tr><td>2</td><td>3</td></tr>
	<tr><td>3</td><td>2</td></tr>
	<tr><td>4</td><td>1</td></tr>
</tbody>
</table>
</div><div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>1</li><li>2</li><li>3</li><li>4</li></ol>
</div><div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>1</li><li>2</li><li>3</li><li>4</li></ol>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># like a matrix</span>
<span class="n">df</span><span class="p">[,</span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;x&quot;</span><span class="p">,</span><span class="s">&quot;z&quot;</span><span class="p">)]</span>
<span class="n">df</span><span class="p">[,</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">]</span>
<span class="n">df</span><span class="p">[,</span><span class="w"> </span><span class="s">&quot;x&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">drop</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A data.frame: 4 × 2</caption>
<thead>
	<tr><th scope=col>x</th><th scope=col>z</th></tr>
	<tr><th scope=col>&lt;int&gt;</th><th scope=col>&lt;chr&gt;</th></tr>
</thead>
<tbody>
	<tr><td>1</td><td>a</td></tr>
	<tr><td>2</td><td>b</td></tr>
	<tr><td>3</td><td>c</td></tr>
	<tr><td>4</td><td>d</td></tr>
</tbody>
</table>
</div><div class="output text_html"><table class="dataframe">
<caption>A data.frame: 4 × 3</caption>
<thead>
	<tr><th scope=col>x</th><th scope=col>y</th><th scope=col>z</th></tr>
	<tr><th scope=col>&lt;int&gt;</th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;chr&gt;</th></tr>
</thead>
<tbody>
	<tr><td>1</td><td>4</td><td>a</td></tr>
	<tr><td>2</td><td>3</td><td>b</td></tr>
	<tr><td>3</td><td>2</td><td>c</td></tr>
	<tr><td>4</td><td>1</td><td>d</td></tr>
</tbody>
</table>
</div><div class="output text_html"><table class="dataframe">
<caption>A data.frame: 4 × 1</caption>
<thead>
	<tr><th scope=col>x</th></tr>
	<tr><th scope=col>&lt;int&gt;</th></tr>
</thead>
<tbody>
	<tr><td>1</td></tr>
	<tr><td>2</td></tr>
	<tr><td>3</td></tr>
	<tr><td>4</td></tr>
</tbody>
</table>
</div></div>
</div>
</section>
<section id="id40">
<h3>增强型数据框<a class="headerlink" href="#id40" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tibble</span></code>是增强型的<code class="docutils literal notranslate"><span class="pre">data.frame</span></code>，</p></li>
<li><p>选取<code class="docutils literal notranslate"><span class="pre">tibble</span></code>的行或者列，即使遇到单行或者单列的时候，数据也不会降维，总是返回<code class="docutils literal notranslate"><span class="pre">tibble</span></code>，即仍然是数据框的形式。</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">tb</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">tibble</span><span class="o">::</span><span class="nf">tibble</span><span class="p">(</span>
<span class="n">x</span><span class="o">=</span><span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">,</span>
<span class="n">y</span><span class="o">=</span><span class="m">4</span><span class="o">:</span><span class="m">1</span><span class="p">,</span>
<span class="n">z</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;b&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;c&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;d&quot;</span><span class="p">))</span>
<span class="n">tb</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A tibble: 4 × 3</caption>
<thead>
	<tr><th scope=col>x</th><th scope=col>y</th><th scope=col>z</th></tr>
	<tr><th scope=col>&lt;int&gt;</th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;chr&gt;</th></tr>
</thead>
<tbody>
	<tr><td>1</td><td>4</td><td>a</td></tr>
	<tr><td>2</td><td>3</td><td>b</td></tr>
	<tr><td>3</td><td>2</td><td>c</td></tr>
	<tr><td>4</td><td>1</td><td>d</td></tr>
</tbody>
</table>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">tb</span><span class="p">[</span><span class="s">&quot;x&quot;</span><span class="p">]</span>
<span class="n">tb</span><span class="p">[,</span><span class="s">&quot;x&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A tibble: 4 × 1</caption>
<thead>
	<tr><th scope=col>x</th></tr>
	<tr><th scope=col>&lt;int&gt;</th></tr>
</thead>
<tbody>
	<tr><td>1</td></tr>
	<tr><td>2</td></tr>
	<tr><td>3</td></tr>
	<tr><td>4</td></tr>
</tbody>
</table>
</div><div class="output text_html"><table class="dataframe">
<caption>A tibble: 4 × 1</caption>
<thead>
	<tr><th scope=col>x</th></tr>
	<tr><th scope=col>&lt;int&gt;</th></tr>
</thead>
<tbody>
	<tr><td>1</td></tr>
	<tr><td>2</td></tr>
	<tr><td>3</td></tr>
	<tr><td>4</td></tr>
</tbody>
</table>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">mt</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">9</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="o">=</span><span class="m">3</span><span class="p">)</span>
<span class="n">mt</span>
<span class="n">mt</span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="m">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A matrix: 3 × 3 of type int</caption>
<tbody>
	<tr><td>1</td><td>4</td><td>7</td></tr>
	<tr><td>2</td><td>5</td><td>8</td></tr>
	<tr><td>3</td><td>6</td><td>9</td></tr>
</tbody>
</table>
</div><div class="output text_html">7</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">)</span>
<span class="n">x_missing</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">is.na</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">x</span><span class="p">[</span><span class="n">x_missing</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">0</span>
<span class="n">x</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>3</li><li>5</li><li>0</li><li>2</li><li>0</li></ol>
</div></div>
</div>
</section>
</section>
<section id="id41">
<h2>可重复性文档<a class="headerlink" href="#id41" title="Link to this heading">#</a></h2>
<section id="rmarkdown">
<h3>什么是<code class="docutils literal notranslate"><span class="pre">Rmarkdown</span></code><a class="headerlink" href="#rmarkdown" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><img alt="imag" src="../_images/rmarkdown.png" /></p></li>
</ul>
</section>
<section id="markdown">
<h3><code class="docutils literal notranslate"><span class="pre">markdown</span></code> 基本语法<a class="headerlink" href="#markdown" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>如果想制作简单表格，</p>
<ul>
<li><p>列与列之间用 <code class="docutils literal notranslate"><span class="pre">|</span></code> 分隔，表格的首行下面添加<code class="docutils literal notranslate"><span class="pre">--------</span></code></p></li>
</ul>
</li>
<li><p>如果想添加网页链接，可以用方括号和圆括号</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">[Download</span> <span class="pre">R](http://www.r-project.org/)</span></code></p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># This is a title</span>

<span class="c1">#  第一章   （注意   &quot;#&quot; 与 &quot;第一章&quot;之间有空格）</span>
<span class="c1">##  第一节  （同上，&quot;##&quot; 与 &quot;第一节&quot;之间有空格）</span>

<span class="n">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">sentence.</span>

<span class="n">Now</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">begins</span><span class="o">:</span>
<span class="w">  </span>
<span class="o">-</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">importance</span>
<span class="o">-</span><span class="w"> </span><span class="n">again</span>
<span class="o">-</span><span class="w"> </span><span class="n">repeat</span>
<span class="w">  </span>
<span class="n">A</span><span class="w"> </span><span class="n">numbered</span><span class="w"> </span><span class="n">list</span><span class="o">:</span>
<span class="w">  </span>
<span class="m">1</span><span class="n">.</span><span class="w"> </span><span class="n">first</span>
<span class="m">2</span><span class="n">.</span><span class="w"> </span><span class="n">second</span>

__<span class="n">bold__</span><span class="p">,</span><span class="w"> </span>_<span class="n">italic_</span><span class="p">,</span><span class="w"> </span><span class="o">~~</span><span class="n">strike</span><span class="w"> </span><span class="n">through</span><span class="o">~~</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="n">Error</span> <span class="ow">in</span> <span class="n">parse</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">srcfile</span> <span class="o">=</span> <span class="n">src</span><span class="p">):</span> <span class="o">&lt;</span><span class="n">text</span><span class="o">&gt;</span><span class="p">:</span><span class="mi">6</span><span class="p">:</span><span class="mi">6</span><span class="p">:</span> <span class="n">unexpected</span> <span class="n">symbol</span>
<span class="mi">5</span><span class="p">:</span> 
<span class="mi">6</span><span class="p">:</span> <span class="n">This</span> <span class="ow">is</span>
        <span class="o">^</span>
<span class="ne">Traceback</span>:
</pre></div>
</div>
</div>
</div>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Table Header</p></th>
<th class="head"><p>Second Header</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Cell 1, 1</p></td>
<td><p>Cell 2, 1</p></td>
</tr>
<tr class="row-odd"><td><p>Cell 1, 2</p></td>
<td><p>Cell 2, 2</p></td>
</tr>
</tbody>
</table>
</section>
<section id="r-code-chunks">
<h3>R Code chunks<a class="headerlink" href="#r-code-chunks" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>在<code class="docutils literal notranslate"><span class="pre">Rmd</span></code>文档中写<code class="docutils literal notranslate"><span class="pre">R</span></code>代码，需要插入代码块(<code class="docutils literal notranslate"><span class="pre">Code</span> <span class="pre">chunks</span></code>)，具体以 <code class="docutils literal notranslate"><span class="pre">```{r}</span></code> 开始，以 <code class="docutils literal notranslate"><span class="pre">```</span></code>结尾。可以用快捷方式<code class="docutils literal notranslate"><span class="pre">Ctrl</span> <span class="pre">+</span> <span class="pre">Alt</span> <span class="pre">+</span> <span class="pre">I</span></code> (OS X: <code class="docutils literal notranslate"><span class="pre">Cmd</span> <span class="pre">+</span> <span class="pre">Option</span> <span class="pre">+</span> <span class="pre">I</span></code>)创建代码块。</p></li>
</ul>
</section>
<section id="html">
<h3>生成<code class="docutils literal notranslate"><span class="pre">html</span></code>文档<a class="headerlink" href="#html" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>希望<code class="docutils literal notranslate"><span class="pre">html</span></code>文档有章节号、目录或者更好显示表格，可以修改<code class="docutils literal notranslate"><span class="pre">yaml</span></code>头文件（用下面的内容替换<code class="docutils literal notranslate"><span class="pre">Rmarkdown</span></code>的头文件）</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">---</span>
<span class="n">title</span><span class="o">:</span><span class="w"> </span><span class="n">Habits</span>
<span class="n">author</span><span class="o">:</span><span class="w"> </span><span class="n">John</span><span class="w"> </span><span class="n">Doe</span>
<span class="n">date</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;2023-07-18&quot;</span>
<span class="n">output</span><span class="o">:</span><span class="w"> </span>
<span class="w">  </span><span class="n">html_document</span><span class="o">:</span>
<span class="w">    </span><span class="n">df_print</span><span class="o">:</span><span class="w"> </span><span class="n">paged</span>
<span class="w">    </span><span class="n">toc</span><span class="o">:</span><span class="w"> </span><span class="n">yes</span>
<span class="w">    </span><span class="n">number_sections</span><span class="o">:</span><span class="w"> </span><span class="n">yes</span>
<span class="o">---</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="n">Error</span> <span class="ow">in</span> <span class="n">parse</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">srcfile</span> <span class="o">=</span> <span class="n">src</span><span class="p">):</span> <span class="o">&lt;</span><span class="n">text</span><span class="o">&gt;</span><span class="p">:</span><span class="mi">3</span><span class="p">:</span><span class="mi">14</span><span class="p">:</span> <span class="n">unexpected</span> <span class="n">symbol</span>
<span class="mi">2</span><span class="p">:</span> <span class="n">title</span><span class="p">:</span> <span class="n">Habits</span>
<span class="mi">3</span><span class="p">:</span> <span class="n">author</span><span class="p">:</span> <span class="n">John</span> <span class="n">Doe</span>
                <span class="o">^</span>
<span class="ne">Traceback</span>:
</pre></div>
</div>
</div>
</div>
</section>
<section id="word">
<h3>生成<code class="docutils literal notranslate"><span class="pre">word</span></code>文档<a class="headerlink" href="#word" title="Link to this heading">#</a></h3>
</section>
<section id="pdf">
<h3>生成<code class="docutils literal notranslate"><span class="pre">pdf</span></code>文档<a class="headerlink" href="#pdf" title="Link to this heading">#</a></h3>
</section>
</section>
<section id="id42">
<h2>读取数据<a class="headerlink" href="#id42" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>在学习R语言过程中，除了使用内置的数据集外，我们更多的需要导入外部数据</p></li>
</ul>
<section id="id43">
<h3>数据科学中的文件管理<a class="headerlink" href="#id43" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>把项目所需的文件（代码、数据、图片等），放在一个文件夹里</p></li>
<li><p>项目文件结构</p>
<ul>
<li><p><img alt="image.png" src="../_images/Rproject.png" /></p></li>
</ul>
</li>
</ul>
<ul class="simple">
<li><p>读取文件</p>
<ul>
<li><p>事实上，R语言提供了很多读取数据的函数。下表列出了常见文件格式的读取方法</p></li>
</ul>
</li>
</ul>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>文件格式</p></th>
<th class="head"><p>R函数</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>txt</p></td>
<td><p>read.table()</p></td>
</tr>
<tr class="row-odd"><td><p>.csv</p></td>
<td><p>read.csv() and readr::read_csv()</p></td>
</tr>
<tr class="row-even"><td><p>.xls and .xlsx</p></td>
<td><p>readxl::read_excel() and openxlsx::read.xlsx()</p></td>
</tr>
<tr class="row-odd"><td><p>.sav(SPSS files)</p></td>
<td><p>haven::read_sav() and foreign::read.spss()</p></td>
</tr>
<tr class="row-even"><td><p>.Rdata or rda</p></td>
<td><p>load()</p></td>
</tr>
<tr class="row-odd"><td><p>.rds</p></td>
<td><p>readRDS() and readr::read_rds()</p></td>
</tr>
<tr class="row-even"><td><p>.dta</p></td>
<td><p>haven::read_dta() and haven::read_stata()</p></td>
</tr>
<tr class="row-odd"><td><p>.sas7bdat(SAS files)</p></td>
<td><p>haven::read_sas()</p></td>
</tr>
<tr class="row-even"><td><p>Internet</p></td>
<td><p>download.file()</p></td>
</tr>
</tbody>
</table>
</section>
<section id="here">
<h3><code class="docutils literal notranslate"><span class="pre">here</span></code>宏包<a class="headerlink" href="#here" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>强大的<code class="docutils literal notranslate"><span class="pre">here</span></code>宏包，<code class="docutils literal notranslate"><span class="pre">here()</span></code>会告诉我们当前所在的目录</p></li>
<li><p>指向某个文件的路径信息</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">here</span></code>宏包的好处还在于，在不同的电脑和文件结构下，代码都能运行</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">here</span><span class="o">::</span><span class="nf">here</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">'/public/home/sll/mybook/content'</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">here</span><span class="o">::</span><span class="nf">here</span><span class="p">(</span><span class="s">&quot;software&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;smoove&quot;</span><span class="p">)</span>
<span class="n">d</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">read.table</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="w"> </span><span class="s">&quot;./data/txt_file.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">header</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">'/public/home/sll/mybook/content/software/smoove'</div><div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Warning message in file(file, &quot;rt&quot;):
“无法打开文件&#39;./data/txt_file.txt&#39;: 没有那个文件或目录”
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="n">Error</span> <span class="ow">in</span> <span class="n">file</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s2">&quot;rt&quot;</span><span class="p">):</span> <span class="n">无法打开链结</span>
<span class="ne">Traceback</span>:

<span class="mi">1</span><span class="o">.</span> <span class="n">read</span><span class="o">.</span><span class="n">table</span><span class="p">(</span><span class="n">file</span> <span class="o">=</span> <span class="s2">&quot;./data/txt_file.txt&quot;</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="n">TRUE</span><span class="p">)</span>
<span class="mi">2</span><span class="o">.</span> <span class="n">file</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s2">&quot;rt&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "r"
        },
        kernelOptions: {
            name: "ir",
            path: "./content"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'ir'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Welcome to My R Learning Book</p>
      </div>
    </a>
    <a class="right-next"
       href="R%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A02-%E8%AF%AD%E6%B3%95%E5%87%BD%E6%95%B02-%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86dplyr%E5%8C%85.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">语法函数2-数据处理dplyr包</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">对象</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">对象属性</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">向量</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">数值型向量</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">字符串向量</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">逻辑型向量</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">因子型向量</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">强制转换</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">数据结构</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">矩阵</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">列表</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">数据框</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">属性</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">运算符及向量运算</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">算数运算符</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">关系运算符</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">逻辑运算符</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">其他运算符</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id20">特殊值</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id21">函数</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id22">基础函数</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id23">向量的函数</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id24">自定义函数</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id25">使用宏包的函数</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id26">安装宏包与使用宏包</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id27">指定函数的所属宏包</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id28">获取帮助</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id29">函数应用</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id30">灵活的语法</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id31">多个参数</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id32">条件语句</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id33">返回多个结果</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id34">函数默认值</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id35">子集选取</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id36">向量</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id37">列表</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id38">矩阵</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id39">数据框</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id40">增强型数据框</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id41">可重复性文档</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rmarkdown">什么是<code class="docutils literal notranslate"><span class="pre">Rmarkdown</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#markdown"><code class="docutils literal notranslate"><span class="pre">markdown</span></code> 基本语法</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#r-code-chunks">R Code chunks</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#html">生成<code class="docutils literal notranslate"><span class="pre">html</span></code>文档</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#word">生成<code class="docutils literal notranslate"><span class="pre">word</span></code>文档</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pdf">生成<code class="docutils literal notranslate"><span class="pre">pdf</span></code>文档</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id42">读取数据</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id43">数据科学中的文件管理</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#here"><code class="docutils literal notranslate"><span class="pre">here</span></code>宏包</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Lulu Shi
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>